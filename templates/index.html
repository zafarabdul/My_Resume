<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Mohammed Abdul Zafar</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        {% load static %}
        <link rel="stylesheet" href="{% static 'index.css' %}">
        <script src="{% static 'index.js' %}"></script>
        <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity>
    </head>
    <body>
        <section id="icon" onclick="change(1)"><p>Chat</p></section>
        <section id="chat">
            <div id="top">
                <div id="head"><p>AI</p></div>
                <div id="cross" onclick="change(0)"><i class="fa-solid fa-xmark"></i></div>
            </div>
            <div id="messagesbox">
                
            </div>
            <div id="bottom">
                <form id="chatForm">
                    {% csrf_token %}
                    <input type="textbox" name="mess" id="message" placeholder="  Type Here">
                    <button type="submit" id="button" ><i class="fa-solid fa-paper-plane"></i></button>
                </form>
            </div>
        </section>
        <nav>
            <div id='Myresume'><h1>My Resume</h1></div>
            <div id='Links'>
                <div class='home'>Home</div>
                <div class='home'>Projects</div>
                <div class='home'>Certificates</div>
                <div class='home'>Contact</div>
            </div>
        </nav>
        <section id="section1">
            <div id='zafarimg'><img id='img'src= "{% static 'zafar.jpg'%}" width='300px' height='400px'></img></div>
            <div class='desc'>
                <h1>Mohammed Abdul Zafar</h1>
                <p>I am Mohammed Abdul Zafar from Tuni, Andhra Pradesh, a passionate programmer with strong problem-solving skills. I have a <strong>1700+ rating on LeetCode</strong> with <strong>200+ problems</strong> solved and a <strong>3-star rating on CodeChef</strong>. My expertise lies in <strong>C++</strong>, <strong>Python</strong>, <strong>SQL</strong>, and <strong>Django</strong>, and I have successfully developed some Django project. Currently, I am expanding my knowledge by learning <strong>AWS, Docker, React, and GitHub</strong>. Alongside my technical journey, I also hold an NCC 'A' Certificate, showcasing my discipline and leadership skills. I am highly enthusiastic about competitive programming, web development, and cloud technologies</p>
                <a href="./static/zafar.jpg" download><button id="download">Download CV <i class="fa-solid fa-download"></i></button></a>
            </div>
        </section>
        <div class="profsec">
            <h1>Profiles</h1>
                <div class='profiles'>
                    <div class="platform">
                        <img src="{% static 'leetcode.png'%}" width="200px" height="90px" style="margin:10px auto -19px;">
                        <p>
                            <h4>Contest Rating : <zaf>1660+</zaf></h4>
                            <h4>Global Ranking: <zaf>100,107+</zaf></h4>
                            <h4>Questions Solved : <zaf>215+</zaf></h4>
                            <a href="https://leetcode.com/u/Md_Abdul_Zafar/"><h4>Click Here For A Visit</h4></a>
                        </p>
                    </div>
                    <div class="platform">
                        <img src="{% static 'github.png'%}" width="150px" height="50px" style="margin:29px auto -10px auto;">
                        <p>
                            <h4>Projects Done: <zaf>2</zaf></h4>
                            <h4>Frontend : <zaf>HTML, CSS , JS</zaf></h4>
                            <h4>Backend : <zaf>Django</zaf></h4>
                            <h4>DataBase : <zaf>SQL</zaf></h4>
                            <a href="https://github.com/zafarabdul"><h4>Click Here For A Visit</h4></a>
                        </p>
                    </div>
                    <div class="platform">
                        <img src="{% static 'codechef.png'%}" width="200px" height="90px" style="margin:2px auto -10px auto;">
                        <p>
                            <h4>Highest Rating : <zaf>1491+</zaf></h4>
                            <h4>Global Ranking: <zaf>100,107+</zaf></h4>
                            <h4>Questions Solved : <zaf>100+</zaf></h4>
                            <a href="https://codechef.com/users/zafarabdul/"><h4>Click Here For A Visit</h4></a>
                        </p>
                    </div>
                    <div class="platform">
                        <img src="{% static 'codeforces.png'%}" width="240px" height="46px" style="margin:29px auto 11px auto;">
                        <p>
                            <h4>Highest Rating : <zaf>1083+</zaf></h4>
                            <h4>Global Ranking: <zaf>59,331</zaf></h4>
                            <h4>Questions Solved : <zaf>20+</zaf></h4>
                            <a href="https://codeforces.com/profile/zafar_abdul"><h4>Click Here For A Visit</h4></a>
                        </p>
                    </div>
                    <div class="platform">
                        <img src="{% static 'linkedin.png'%}" width="200px" height="90px" style="margin:19px auto -20px auto;">
                        <p>
                            <h4>Connections : <zaf>225+</zaf></h4>
                            <a href="https://www.linkedin.com/in/md-abdul-zafar/"><h4>Click Here For A Visit</h4></a>
                        </p>
                    </div>
                </div>
            </div>
            <script>
                document.getElementById("chatForm").addEventListener("submit", function(event) {
                    event.preventDefault();  // Prevent form from reloading
            
                    let messageInput = document.getElementById("message");
                    let messageText = messageInput.value.trim();
                    if (messageText === "") return;
            
                    let messagesBox = document.getElementById("messagesbox");
            
                    // Append user message
                    let userMessage = document.createElement("div");
                    userMessage.classList.add("user-message");
                    userMessage.innerText = messageText;
                    messagesBox.appendChild(userMessage);
                    messageInput.value = "";
                    // Scroll to the bottom after adding the message
                    scrollToBottom();
                    // Send message to Django backend
                    fetch("/send-message/", {
                        method: "POST",
                        headers: {
                            "X-CSRFToken": document.querySelector("[name=csrfmiddlewaretoken]").value,  // Fetch token from form
                            "Content-Type": "application/x-www-form-urlencoded",
                        },
                        body: new URLSearchParams({ "mess": messageText }),
                    })
                    .then(response => response.json())
                    .then(data => {
                        if (data.bot_response) {
                            let botMessage = document.createElement("div");
                            botMessage.classList.add("bot-message");
                            botMessage.innerText = data.bot_response;
                            messagesBox.appendChild(botMessage);
            
                            // Scroll to the bottom after bot response
                            scrollToBottom();
                        }
                    })
                    .catch(error => console.error("Error:", error));
        
                });
            
                // Function to scroll messages box to the bottom
                function scrollToBottom() {
                    let messagesBox = document.getElementById("messagesbox");
                    messagesBox.scrollTo({
                        top: messagesBox.scrollHeight,
                        behavior: "smooth"
                    });
                }
            </script>
    </body>
</html>
